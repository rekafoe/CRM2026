# ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

## üéØ –û–±–∑–æ—Ä

–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ü–µ–Ω—É** –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - –∫–∞–∫ —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤ (–ö–∞—Ä–∞–Ω–¥–∞—à –∏ –¥—Ä.)!

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –î–æ (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è):
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –ø–æ–ª–µ ‚Üí –Ω–∏—á–µ–≥–æ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç –µ—â–µ –ø–æ–ª–µ ‚Üí –Ω–∏—á–µ–≥–æ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å" ‚Üí 1 –∑–∞–ø—Ä–æ—Å ‚Üí —Ü–µ–Ω–∞
```

### –ü–æ—Å–ª–µ (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è):
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç select ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç (0–º—Å)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–µ–Ω—è–µ—Ç checkbox ‚Üí –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Å—á–µ—Ç (0–º—Å)
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ ‚Üí debounced –ø–µ—Ä–µ—Å—á–µ—Ç (500–º—Å)
–†–µ–∑—É–ª—å—Ç–∞—Ç: —Ü–µ–Ω–∞ –í–°–ï–ì–î–ê –∞–∫—Ç—É–∞–ª—å–Ω–∞! üî•
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

### 1. –•—É–∫ `useAutoCalculate`

```typescript
// frontend/src/components/calculator/hooks/useAutoCalculate.ts

const { instantCalculate } = useAutoCalculate({
  specs,                    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–¥—É–∫—Ç–∞
  selectedProduct,          // –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
  isValid,                  // –í–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
  enabled: userInteracted,  // –í–∫–ª—é—á–∏—Ç—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
  onCalculate: calculateCost, // –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞
  debounceMs: 500          // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è input –ø–æ–ª–µ–π
});
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `updateSpecs`

```typescript
const updateSpecs = useCallback((updates: Partial<ProductSpecs>, instant: boolean = false) => {
  setSpecs(prev => ({ ...prev, ...updates }));
  setUserInteracted(true);
  
  // –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–ª—è select/radio/checkbox
  if (instant && isValid && selectedProduct?.id) {
    setTimeout(() => {
      instantCalculate();
    }, 0);
  }
}, [setSpecs, setUserInteracted, isValid, selectedProduct, instantCalculate]);
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

**Select - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç:**
```typescript
<select 
  value={specs.format}
  onChange={(e) => updateSpecs({ format: e.target.value }, true)} // instant=true
>
  <option>A4</option>
  <option>A5</option>
</select>
```

**Checkbox - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç:**
```typescript
<input 
  type="checkbox"
  checked={specs.lamination}
  onChange={(e) => updateSpecs({ lamination: e.target.checked }, true)} // instant=true
/>
```

**Number input - —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π:**
```typescript
<input 
  type="number"
  value={specs.quantity}
  onChange={(e) => updateSpecs({ quantity: parseInt(e.target.value) })} // instant=false (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
/>
// –ü–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —á–µ—Ä–µ–∑ 500–º—Å –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–æ–¥–∞
```

---

## üìä –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏:

### Debouncing
```typescript
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç: 1 ‚Üí 10 ‚Üí 100 ‚Üí 1000
–ó–∞–ø—Ä–æ—Å—ã:              -    -     -     ‚úÖ (—Ç–æ–ª—å–∫–æ 1 –∑–∞–ø—Ä–æ—Å!)
```

–í–º–µ—Å—Ç–æ 4 –∑–∞–ø—Ä–æ—Å–æ–≤ ‚Üí **–≤—Å–µ–≥–æ 1 –∑–∞–ø—Ä–æ—Å** –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–æ–¥–∞!

### –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –¥–ª—è select
```typescript
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç: A4 ‚Üí A5 ‚Üí A3
–ó–∞–ø—Ä–æ—Å—ã:               ‚úÖ   ‚úÖ   ‚úÖ  (3 –∑–∞–ø—Ä–æ—Å–∞, –Ω–æ —Å—Ä–∞–∑—É)
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ü–µ–Ω—É **–º–≥–Ω–æ–≤–µ–Ω–Ω–æ** –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞!

---

## üé® UX –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

### ‚úÖ –ü–ª—é—Å—ã:
1. **–ù–µ –Ω—É–∂–Ω–æ –∫–ª–∏–∫–∞—Ç—å "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"** - —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∞–º–∞
2. **–í–∏–¥–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å—Ä–∞–∑—É** - –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ñ–æ—Ä–º–∞—Ç–∞/–º–∞—Ç–µ—Ä–∏–∞–ª–∞
3. **–ú–µ–Ω—å—à–µ –∫–ª–∏–∫–æ–≤** - –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. **–ö–∞–∫ —É –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤** - –ø—Ä–∏–≤—ã—á–Ω—ã–π UX

### üéØ –°—Ü–µ–Ω–∞—Ä–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
2. –í—ã–±–∏—Ä–∞–µ—Ç "–õ–∏—Å—Ç–æ–≤–∫–∏"                    ‚Üí –ø–æ–ª—è –ø–æ—è–≤–ª—è—é—Ç—Å—è
3. –í—ã–±–∏—Ä–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç "A4"                   ‚Üí —Ü–µ–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è! üéâ
4. –ú–µ–Ω—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å 100 –Ω–∞ 500         ‚Üí –∂–¥–µ—Ç 500–º—Å ‚Üí —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
5. –í–∫–ª—é—á–∞–µ—Ç –ª–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ                 ‚Üí —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
6. –ú–µ–Ω—è–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª                        ‚Üí —Ü–µ–Ω–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
7. –í–∏–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—É—é —Ü–µ–Ω—É                    ‚Üí 28.67 BYN
8. –ù–∞–∂–∏–º–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–∞–∑"            ‚Üí –≥–æ—Ç–æ–≤–æ!
```

**–ù–∏–∫–∞–∫–∏—Ö –ª–∏—à–Ω–∏—Ö –∫–ª–∏–∫–æ–≤ –Ω–∞ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å"!** üöÄ

---

## üîç –ö–∞–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã:

### –•—É–∫–∏:
- ‚úÖ `useAutoCalculate.ts` - –Ω–æ–≤—ã–π —Ö—É–∫ –¥–ª—è –∞–≤—Ç–æ–ø–µ—Ä–µ—Å—á–µ—Ç–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- ‚úÖ `ImprovedPrintingCalculatorModal.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞–≤—Ç–æ–ø–µ—Ä–µ—Å—á–µ—Ç–∞
- ‚úÖ `ParamsSection.tsx` - instant –¥–ª—è format, sides
- ‚úÖ `MaterialsSection.tsx` - instant –¥–ª—è paperType, paperDensity, lamination
- ‚úÖ `AdvancedSettingsSection.tsx` - instant –¥–ª—è priceType, customerType, pages, –≤—Å–µ checkboxes
- ‚úÖ `DynamicFieldsSection.tsx` - instant –¥–ª—è –≤—Å–µ—Ö select –∏ checkbox –ø–æ–ª–µ–π

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–¥—É–∫—Ç
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
4. –ú–µ–Ω—è–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã:
   - Select ‚Üí —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å
   - Input ‚Üí –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ 500–º—Å –ø–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤–≤–æ–¥–∞
   - Checkbox ‚Üí —Å—Ä–∞–∑—É –∑–∞–ø—Ä–æ—Å

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏:

### –ò–∑–º–µ–Ω–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É debounce:

```typescript
const { instantCalculate } = useAutoCalculate({
  specs,
  selectedProduct,
  isValid,
  enabled: userInteracted,
  onCalculate: calculateCost,
  debounceMs: 300 // ‚Üê –ò–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 500–º—Å)
});
```

### –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–ø–µ—Ä–µ—Å—á–µ—Ç:

```typescript
const { instantCalculate } = useAutoCalculate({
  // ...
  enabled: false // ‚Üê –û—Ç–∫–ª—é—á–∏—Ç—å
});
```

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:

**–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —É –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤!**

- ‚ö° –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üéØ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- üí° –£–ª—É—á—à–µ–Ω–Ω—ã–π UX
- üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (–∫–Ω–æ–ø–∫–∞ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å" —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!** üöÄ

